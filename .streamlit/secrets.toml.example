# ========================================
# EXEMPLO DE CONFIGURA√á√ÉO - secrets.toml
# ========================================
#
# Este √© um arquivo de EXEMPLO. Para usar:
# 1. Copie este arquivo para: .streamlit/secrets.toml
# 2. Preencha com suas credenciais REAIS
# 3. NUNCA fa√ßa commit do secrets.toml (j√° est√° no .gitignore)
#
# Para instru√ß√µes detalhadas, consulte: docs/SETUP_GOOGLE_SHEETS.md
#
# ========================================
# üåê IMPORTANTE PARA STREAMLIT CLOUD
# ========================================
# Ao fazer deploy no Streamlit Cloud:
# 1. V√° em Settings ‚Üí Secrets
# 2. Copie TODO o conte√∫do deste arquivo (ap√≥s preenchido)
# 3. Cole no campo de Secrets (mantenha a mesma estrutura TOML)
# 4. Salve e redeploy seu app
#
# O Streamlit Cloud ler√° automaticamente via st.secrets
#

# ========================================
# ID DA PLANILHA DO GOOGLE SHEETS
# ========================================
# OBRIGAT√ìRIO: Este campo deve estar ANTES de qualquer se√ß√£o []
# 
# Como encontrar o ID:
# 1. Abra sua planilha no Google Sheets
# 2. Copie o ID da URL: https://docs.google.com/spreadsheets/d/SEU_ID_AQUI/edit
# 
# Exemplo de ID v√°lido (44 caracteres):
# spreadsheet_id = "1TZDj3ZNfFluXLTlc4hkkvMb0gs17WskzwS9LapR44eI"
#
spreadsheet_id = "seu-spreadsheet-id-aqui"

# ========================================
# CREDENCIAIS DA SERVICE ACCOUNT
# ========================================
# OBRIGAT√ìRIO: Todos os campos abaixo devem ser preenchidos
#
# Como obter estas credenciais:
# 1. Acesse: https://console.cloud.google.com/
# 2. Crie/selecione um projeto
# 3. Habilite: Google Sheets API e Google Drive API
# 4. Crie uma Service Account
# 5. Baixe o arquivo JSON de credenciais
# 6. Copie os valores do JSON para os campos abaixo
#
# ‚ö†Ô∏è IMPORTANTE: Ap√≥s configurar, voc√™ DEVE compartilhar sua planilha
# com o email da Service Account (client_email) como Editor
#
# Tutorial completo: docs/SETUP_GOOGLE_SHEETS.md
#
[google_credentials]
type = "service_account"

# ID do seu projeto no Google Cloud
project_id = "seu-projeto-id"

# ID da chave privada (string hexadecimal longa)
private_key_id = "sua-private-key-id-aqui"

# ‚ö†Ô∏è ATEN√á√ÉO: O private_key DEVE incluir as quebras de linha (\n)
# 
# Op√ß√£o 1 - String com \n (copie exatamente como est√° no JSON):
# private_key = "-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgk...\n-----END PRIVATE KEY-----\n"
#
# Op√ß√£o 2 - Aspas triplas (melhor legibilidade - RECOMENDADO):
private_key = """-----BEGIN PRIVATE KEY-----
MIIEvQIBADANBgkqhkiG9w0BAQEFAASC...
[copie todo o conte√∫do da chave aqui]
...as linhas no meio...
-----END PRIVATE KEY-----
"""

# Email da Service Account (usado para compartilhar a planilha)
# Este email termina sempre com .iam.gserviceaccount.com
client_email = "seu-service-account@seu-projeto.iam.gserviceaccount.com"

# ID do cliente (n√∫mero longo)
client_id = "123456789012345678901"

# URIs de autentica√ß√£o (geralmente n√£o precisam ser alteradas)
auth_uri = "https://accounts.google.com/o/oauth2/auth"
token_uri = "https://oauth2.googleapis.com/token"
auth_provider_x509_cert_url = "https://www.googleapis.com/oauth2/v1/certs"

# URL do certificado x509 (substitua o email pelo seu client_email)
client_x509_cert_url = "https://www.googleapis.com/robot/v1/metadata/x509/seu-service-account%40seu-projeto.iam.gserviceaccount.com"

# Campo opcional (recomendado para google-auth >= 2.15)
universe_domain = "googleapis.com"

# ========================================
# CONFIGURA√á√ïES DE AUTENTICA√á√ÉO JWT
# ========================================
# Usado para autentica√ß√£o de usu√°rios no app (n√£o relacionado ao Google)
#
# Segredo para gerar tokens JWT (troque por uma string aleat√≥ria segura)
# Para gerar uma chave segura, execute no terminal:
#   python -c "import secrets; print(secrets.token_hex(32))"
#
[jwt]
secret_key = "TROQUE_ESTE_VALOR_POR_UMA_STRING_ALEATORIA_SEGURA_DE_64_CARACTERES"
algorithm = "HS256"
expire_hours = 8

# ========================================
# CONFIGURA√á√ÉO DE FONTE DE DADOS
# ========================================
# Define a fonte prim√°ria de dados e comportamento de fallback
[data_config]
# Fonte prim√°ria: "google" para Google Sheets, "excel" para Excel local
primary_source = "google"

# Permitir fallback para Excel se Google Sheets falhar
# true = fallback com warning (√∫til para desenvolvimento - mostra aviso mas continua funcionando)
# false = falha expl√≠cita se fonte prim√°ria n√£o estiver dispon√≠vel (recomendado para produ√ß√£o)
allow_fallback = false

# ========================================
# ‚úÖ CHECKLIST DE VERIFICA√á√ÉO
# ========================================
# Antes de executar o app, verifique:
# 
# [ ] Copiei este arquivo para .streamlit/secrets.toml
# [ ] Preenchi o spreadsheet_id com o ID correto da minha planilha
# [ ] Baixei o JSON de credenciais do Google Cloud Console
# [ ] Copiei TODOS os campos do JSON para a se√ß√£o [google_credentials]
# [ ] O private_key est√° completo (come√ßa com -----BEGIN e termina com -----END)
# [ ] Compartilhei a planilha com o client_email como Editor
# [ ] N√ÉO commitei o secrets.toml no git
# 
# Se tudo estiver correto, execute: streamlit run app.py
#
# ========================================
# üÜò PROBLEMAS? SOLU√á√ïES COMUNS
# ========================================
#
# ‚ùå "Credenciais n√£o configuradas"
# ‚Üí Certifique-se que o arquivo est√° em .streamlit/secrets.toml (n√£o na raiz)
# ‚Üí Verifique se todos os campos est√£o preenchidos (sem "seu-projeto-id", etc)
#
# ‚ùå "Campos obrigat√≥rios ausentes"
# ‚Üí Compare este arquivo com o seu JSON baixado do Google Cloud
# ‚Üí Certifique-se que copiou todos os campos da se√ß√£o [google_credentials]
#
# ‚ùå "private_key com formato inv√°lido"
# ‚Üí Certifique-se que copiou a chave completa, incluindo:
#   -----BEGIN PRIVATE KEY-----
#   [todo o conte√∫do]
#   -----END PRIVATE KEY-----
# ‚Üí Se usar aspas simples, inclua \n entre as linhas
# ‚Üí Se usar aspas triplas ("""), cole a chave com quebras de linha reais
#
# ‚ùå "Planilha n√£o encontrada" ou "PERMISSION_DENIED"
# ‚Üí Compartilhe a planilha no Google Sheets com o client_email
# ‚Üí D√™ permiss√£o de "Editor" (n√£o apenas "Visualizador")
#
# ‚ùå "invalid_grant" ou "invalid jwt signature"
# ‚Üí A chave da Service Account pode ter sido revogada
# ‚Üí Gere uma nova chave no Google Cloud Console
# ‚Üí Atualize as credenciais neste arquivo
#
# üìö Guia completo de troubleshooting: docs/TROUBLESHOOTING.md
# üìö Tutorial de setup passo a passo: docs/SETUP_GOOGLE_SHEETS.md
#
